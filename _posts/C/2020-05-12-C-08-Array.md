---
title: "[C] 8. 배열"
excerpt: "배열(Array)"
categories:
  - C
tags:
  - array
---
{{ page.excerpt }}
* * *

## 배열
- 같은 자료형을 가진 연속된 변수
- 다수의 데이터를 저장하고 처리에 적합한 구조
- 배열 선언
  - 자료형: 배열에 저장할 수 있는 데이터의 형식
  - 배열명: 배열에 접근할 때 사용되는 이름
  - 배열크기: 저장할 수 있는 데이터의 수
- 데이터에 접근 하기 위한 index 필요
  - Index는 0부터 시작

## 다양한 배열의 선언
- 상수를 이용한 선언

```c
int arr[10];

// (c99)부터 지원, 많은 컴파일러에서 사용 가능
const int arraySize = 10;
int a[arraySize];
```

- #define을 이용한 배열 선언

```c
#define ArraySize 10
int a[ArraySize];
```

- 변수를 이용한 선언

```c
// (c99)부터 지원, 일부 컴파일러에서 사용 가능
int arraySize = 10;
int a[arraySize];
```

## 배열의 초기화와 데이터 입력
- 초기화

```c
// 모든 요소를 0으로 초기화
int temp[10] = { 0, };
int temp1[10] = { 0 };
```

```c
// 컴파일러에서 자동으로 배열의 크기가 입력되고, 각 요소들이 입력된 값으로 초기화
int temp[] = { 1, 2, 3, 4, 5 };
```

```c
// 3, 4, 5번째 요소는 0으로 채워짐
int temp2[5] = { 1, 2 };
```

- 데이터 입력
  - 배열의 각 요소는 하나의 변수처럼 사용할 수 있음
  - 배열 index는 변수 또는 수식으로 표현 가능

```c
i = 1; j = 2;
a[i + j * 3] = 0; // same as a[7] = 0;
a[i++] = 0; // same as a[1] = 0; i = 2;
```

## 배열의 전달
- 함수로 배열을 전달하는 방법
  - Call by value
    - 함수로 배열이 가지고 있는 데이터 중 하나의 데이터를 전달 하는 방법
    - 데이터를 복사하여 전달
    - 함수에서 데이터를 수정하여도 원본 데이터는 변경되지 않음
- Call by reference
  - 함수로 데이터가 저장된 위치를 전달
  - 값을 전달하는 것이 아니라 값이 저장된 위치를 전달
  - 함수에서 원본 데이터에 직접 접근해서 데이터를 읽어오는 방식이기 때문에 데이터를 변경할 경우 원본 데이터도 변경됨

```c
// Call by reference
#include <stdio.h>
int sum(int a[]);

int main() {
  int a[] = { 3, 4, 5};

  printf("sum: %d", sum(a));

  return 0;
}

int sum(int a[]) {
  return a[0] + a[1] + a[2];
}
```

## 다차원 배열(multi array)
- 1차원 배열(one-dimensional array)
  - 하나의 행으로 구성된 배열
- 2차원 배열(two-dimensional array)
  - 행과 열로 구성된 배열
  - 메모리에서 2차원 배열은 1차원 배열과 같이 쭉 나열되어 있다 (1차원 배열의 확장이다)
  - int table[행 위치][열 위치];

## 2차원 배열의 초기화
- 1차원 배열의 초기화 방법 사용 가능

```c
// 나열
int table1[5][4] = { 0 };
int table2[5][4] = {0, 1, 2, 3, 10, 11, 12, 13, 20, 21, 22, 23, 30, 31, 32, 33, 40, 41, 42, 43 };
```

```c
// 행 구별
int table[5][4] = {
  { 0, 1, 2, 3 },
  { 10, 11, 12, 13 },
  { 20, 21, 22, 23 },
  { 30, 31, 32, 33 },
  { 40, 41, 42, 43 }
};
```

## 2차원 배열의 전달
- Call by value
  - 배열 하나의 요소만 전달하는 방법
  - 배열의 값을 복사하여 전달

```c
printf(table[0][0]);
```

- Call by reference
  - 2차원 배열의 한 행만 전달
    - 해당 행의 시작 주소를 전달하는 방식
    - 함수에서 데이터 수정 시 원본 데이터 변경

```c
sum(table[1]);
```

  - 2차원 배열 전체를 전달
    - 원본 데이터 변경
    - 함수에서 데이터 수정 시 원본 데이터 변경
    - 배열 전체를 전달할 때에 배열의 최대 열의 길이를 같이 전달

```c
sum(table[][MAX_col]);
```

```c
#include <stdio.h>

// 배열을 전달 받는 함수에는 열의 길이가 정해져 있어야 함
void print_a(int [][3]);

int main() {
  int array1[][3] = { 1, 2, 3, 4, 5, 6 };

  // 배열을 전달하는 경우에는 배열의 이름만 전달 가능
  print_a(array1);

  return 0;
}
```

## 입력 받은 값으로 배열 생성

```c
#include <stdio.h>

int main() {
  int array_s, row, col;

  printf("Enter size of 1-D array: ");
  scanf("%d", &array_s);

  printf("Enter row and column sizes of 2-D array: ");
  scanf("%d %d", &row, &col);

  int array_1[array_s];
  int array_2[row][col];

  printf("1D array size : %lu \n", sizeof(array_1));
  printf("2D array size : %lu \n", sizeof(array_2));
  printf("2D row size : %lu \n", sizeof(array_2[0]));
}
```

## 3차원 배열
- 3차원으로 구성된 배열
  - int array[1][2][3];
  - 2차원 배열을 배열로 만든 것

## 3차원 배열 초기화와 전달
- 3차원 배열의 전달

```c
int a[][2][3] = { { {1,1}, {2} }, { {3}, {4, 4} } };

// 3차원 배열을 전달하기 위해서는 배열의 행과 열을 전달 받는 함수가 알고 있어야 함
int sum( int a[][2][3] ) {
  ...
}
```

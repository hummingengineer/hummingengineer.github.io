---
title: "[C] 7. 함수"
excerpt: "함수(Function)"
categories:
  - C
tags:
  - function
  - argument
  - parameter
  - local-variable
  - global-variable
  - static-variable
  - recursion
---
{{ page.excerpt }}
* * *

## 함수(Function)
- 여러 명령이 있는 작은 프로그램 단위
- C는 하나 이상의 함수로 이루어져 있음
- 구조적 프로그래밍(structured programming)
- 소프트웨어 재사용성 증가
  - 새로운 프로그램을 만들 경우 기존의 만들어 두었던 함수를 사용할 수 있음
- 함수는 반환형, 이름, 입력형태, 몸체로 구성
  - 반환형: 함수 종료 시 반환되는 데이터 형식
  - 이름: 함수를 호출할 때 사용하는 이름
  - 입력형태: 함수가 동작할 때 필요한 데이터(parameters)
  - 몸체: 함수가 동작하는 실제 내용
- 주의) 함수의 반환형과 return의 자료형이 같아야 한다.

## 함수의 종류
- Library 함수(library function)
  - 시스템에서 미리 정의된 함수
  - 예시) printf(), scanf(), getchar(), putchar(), ...
- 사용자 정의 함수(user define function)
  - 프로그래머가 만든 함수
  - 함수를 사용하기 위한 단계
    - 함수 선언: 함수가 있다는 것을 알림
    - 함수 정의: 함수의 동작을 작성
    - 함수 호출: 함수의 사용

## 함수의 형태
- 입력형태와 반환형에 따라서 4가지로 나누어짐
  - Case 1: 반환 값 있음, 전달 인자 있음
  - Case 2: 반환 값 없음, 전달 인자 있음
    - Return 이 없는 경우 반드시 void라고 작성
  - Case 3: 반환 값 있음, 전달 인자 없음
    - 입력형태(전달인자)가 없는 경우 void 생략 가능
  - Case 4: 반환 값 없음, 전달 인자 없음
    - Return 이 없는 경우 반드시 void라고 작성
    - 입력형태(전달인자)가 없는 경우 void 생략 가능

## 함수 - return의 활용
- Retrun의 의미
  - 함수의 종료
  - 값의 반환
- Return은 반드시 하나의 값으로 이루어 져야 함
- 수식이 return에 있는 경우 수식의 결과를 되돌려 줌
- 함수를 종료의 의미만 가진 return 문
  - return ; (void type에 사용 반드시 필요하지는 않음)

## 함수의 기본 자료형
- 함수의 반환형의 기본 자료형
  - 정수형(int)
  - 자료형이 없는 함수의 경우 int로 판단

## 매개변수(parameter)
- 함수의 정의에서 입력형태에 나열되는 변수

```c
int func( int a ) {
  a = a + 3;
  return a;
}
```

## 전달인자(argument)
- 함수를 호출할 때, 전달 혹은 입력되는 `실제 값`

```c
int main () {
  int a;
  a = func( 5 );
}
```

## 다중 인자 함수(Multi parameter)
- 2개 이상의 인자를 사용한 함수
```c
double average(int x, int y);
```

## 함수 호출
- 호출하는 함수가 되돌려 주는 값이 있는 경우
  - 변수 = 함수( );
  - 함수(함수);
    - printf("The... %f\n", average(x, y));
- 호출하는 함수가 되돌려 주는 값이 없는 경우
  - 함수( );
- 함수 호출에서 argument는 상수, 변수, 함수, 수식이 올 수 있음

## 함수에서 인수 전달(Call by value)
- 함수에서 인수를 전달하는 일반적인 방법
- 인수를 복사하여 전달 해당 함수에 전달하기 때문에
- 함수 호출에 사용되었던 인수들은 함수 내에서 변화하지 않음

```c
#include <stdio.h>
void func(int n) {
  n = 20;
}

int main() {
  int n = 10;
  func(n);
  printf("%d", n);
}
```
- func()의 n=20으로 수정 하여도 main()의 n의 값은 변화가 없음

## 지역(Local) 변수 / 전역(Global) 변수
- 변수의 경우 선언 위치에 따라서 지역변수, 전역변수로 나누어짐
- 지역변수(local)
  - 함수 내에만 존재 및 접근 가능한 지역변수
- 전역변수(global)
  - 프로그램의 시작부터 종료까지 메모리에 유지되는 변수
- 동일한 이름의 전역/지역 변수 있을 경우 해당 지역 내에서는 지역변수를 우선하여 접근

## 지역변수(Local variable)
- 특징
  - 해당 영역 내에서만 접근 및 수정 가능
  - 지역은 { }로 생성 되는 영역
  - 지역변수는 해당 지역을 벗어나면 자동 소멸
  - 지역변수는 선언된 지역 내에서만 유효

## 전역변수(global variable)
- 함수의 외부에서 선언되는 변수
- 특징
  - 프로그램의 시작과 동시에 메모리 공간에 할당되어 종료 시까지 존재
  - 프로그램 전체 영역 어디서든 접근 가능
  - 전역변수의 경우 자동으로 0으로 초기화

## Static 지역변수
- 지역변수 선언에 static 키워드를 추가하여 전역변수의 일부 특징을 추가
  - Static이 추가된 변수
    - 선언된 함수 내에서만 접근이 가능 (지역변수 특징)
    - 1회 초기화되고 프로그램 종료 까지 메모리에 존재 (전역변수 특징)
    - 초기화 하지 않으면 자동으로 0으로 초기화
- Static으로 선언된 지역변수는 전역변수와 동일한 시기에 할당되고 소멸됨.
  - 단, 선언된 함수 내에서만 접근 가능

```c
#include <stdio.h>
int total = 0;

int addToTotal (int num) {
  total += num;
  return total;
}

int main (void) {
  int num, i;
  for (i = 0; i < 3; i++) {
    printf("input%d: ", i+1);
    scanf("%d", &num);
    printf("total: %d\n", addToTotal(num));
  }
  return 0;
}
```
결과
```
input1: 3
total:   3
input2: 3
total:   6
input3: 3
total:   9
```

## 함수를 이용한 반복 - 재귀(Recursion)
- 재귀함수(recursive function)
- 반복을 하는 방법
  - Iteration: for, while문과 같이 반복문을 이용한 반복
  - Recursion: 함수의 자기 호출을 이용한 반복

```c
void Recursive (void) {
  printf("Recursive Call!\n");
  Recursive();
}
```

## 재귀함수(Recursive function)
- 자기자신을 호출하는 함수
- 호출을 종료(탈출!)하는 시점이 반드시 필요
- recursive 함수가 다시 recursive 함수를 호출하면 recursive 함수의 복사본을 만들어서 실행

```c
#include <stdio.h>
void recursive (int num) {
  if (num <= 0) // 재귀 탈출 조건
    return;
  printf("Recursive call! %d\n", num);
  recursive(num - 1);
}

int main (void) {
  recursive(3);
  return 0;
}
```

## 재귀를 이용한 Factorial
- Factorial: 3! = 3 * 2 * 1을 의미
- Iteration과 Recursion

```c
/* Calculate the factorial of a number using a loop */
int factorial (int n) {
  int factn = 1;

  for (int i = 1; i <= n; i++)
    factn *= i;
  return factn;
}
```
```c
/* Calculate the factorial of a number using recursion */
int factorial (int n) {
  if (n == 0)
    return 1;
  else
    return (n * factorial(n - 1));
}
```
